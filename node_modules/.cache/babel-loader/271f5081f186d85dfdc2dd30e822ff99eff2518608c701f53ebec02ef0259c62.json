{"ast":null,"code":"import _slicedToArray from\"/Users/naheen/Desktop/CPSC481/481GasStation/node_modules/@babel/runtime/helpers/esm/slicedToArray.js\";import React from'react';import Dropdown from'react-bootstrap/Dropdown';import DropdownButton from'react-bootstrap/DropdownButton';import'./App_2.css';import{useState}from'react';import{inventory,categories,setItem_X,inv_P}from'./Variables';import Sidebars from'./Sidebars';import PopUp from'./PopUpSetPrices';import{jsx as _jsx}from\"react/jsx-runtime\";import{jsxs as _jsxs}from\"react/jsx-runtime\";function useItemStates(initialValue){var _useState=useState(initialValue),_useState2=_slicedToArray(_useState,2),state=_useState2[0],setState=_useState2[1];return{state:state,setState:setState};}var initializeItemStates=function initializeItemStates(inventory){var itemStates={};inventory.forEach(function(item){itemStates[\"price_\".concat(item.name.toLowerCase().replace(' ','_'))]=useItemStates(NaN);});return itemStates;};function Update_Set_Prices(){var _useState3=useState(false),_useState4=_slicedToArray(_useState3,2),firstState=_useState4[0],setFirstState=_useState4[1];var itemStates=initializeItemStates(inventory);var _useState5=useState(categories),_useState6=_slicedToArray(_useState5,2),selectedCategory=_useState6[0],setSelectedCategory=_useState6[1];var Refresh=function Refresh(){setFirstState(false);Object.entries(itemStates).forEach(function(_ref){var _ref2=_slicedToArray(_ref,2),key=_ref2[0],setState=_ref2[1].setState;var itemName=key.replace(/^price_/,'').replace(/_/g,' ');setState(NaN);setItem_X(itemName,NaN);});setSelectedCategory(categories);};var Final_Call=function Final_Call(){setFirstState(true);Object.entries(itemStates).forEach(function(_ref3){var _ref4=_slicedToArray(_ref3,2),key=_ref4[0],state=_ref4[1].state;var itemName=key.replace(/^price_/,'').replace(/_/g,' ');setItem_X(itemName,state);});};var handleChangeCategory=function handleChangeCategory(event){if(event.target.value==\"View All\"){setSelectedCategory(categories);}else{setSelectedCategory([event.target.value]);}};var handleChangeItem=function handleChangeItem(itemName,inputVal){var varItemName=\"price_\".concat(itemName.replace(/ /g,'_'));var _itemStates$varItemNa=itemStates[varItemName],state=_itemStates$varItemNa.state,setState=_itemStates$varItemNa.setState;var floats=inputVal.target.value;var float=/^\\d+(\\.\\d{0,2})?$/.test(floats)?parseFloat(floats):floats===\"\"?NaN:state;setState(float);setItem_X(itemName,float);};return/*#__PURE__*/_jsxs(\"div\",{className:\"Inventory_Page\",style:{width:\"100%\",height:\"100%\",position:\"absolute\",overflowX:\"hidden\"},children:[/*#__PURE__*/_jsx(Sidebars,{}),/*#__PURE__*/_jsx(\"div\",{className:\"corner\",children:\"Set Prices\"}),/*#__PURE__*/_jsxs(\"div\",{className:\"Inv_Div\",children:[/*#__PURE__*/_jsxs(\"select\",{className:\"invDropdown\",value:categories.every(function(item){return selectedCategory.includes(item);})?'View All':selectedCategory[0],onChange:handleChangeCategory,children:[/*#__PURE__*/_jsx(\"option\",{value:\"View All\",children:\"All Categories\"}),categories.map(function(category){return/*#__PURE__*/_jsx(\"option\",{value:category,children:category.charAt(0).toUpperCase()+category.slice(1)},category);})]}),/*#__PURE__*/_jsx(\"br\",{}),selectedCategory.map(function(category){return/*#__PURE__*/_jsxs(React.Fragment,{children:[/*#__PURE__*/_jsx(\"div\",{className:\"invHeader\",children:/*#__PURE__*/_jsx(\"h1\",{style:{color:\"white\"},children:category.charAt(0).toUpperCase()+category.slice(1)})}),/*#__PURE__*/_jsx(\"div\",{className:\"cards\",style:{width:\"100%\"},children:inventory.filter(function(item){return item.category===category;}).map(function(item){return/*#__PURE__*/_jsxs(\"div\",{className:\"inv_card\",children:[/*#__PURE__*/_jsx(\"img\",{src:item.img,alt:\"Avatar\",style:{width:\"100%\"}}),/*#__PURE__*/_jsxs(\"div\",{className:\"cardcontainer\",children:[/*#__PURE__*/_jsx(\"h4\",{children:/*#__PURE__*/_jsx(\"b\",{children:item.name.charAt(0).toUpperCase()+item.name.slice(1)})}),/*#__PURE__*/_jsxs(\"p\",{children:[\"Price: $\",item.price.toFixed(2)]}),/*#__PURE__*/_jsx(\"input\",{className:\"invText\",type:\"number\",onChange:function onChange(e){return handleChangeItem(item.name,e);},value:itemStates[\"price_\".concat(item.name.replace(' ','_'))].state})]})]},item.name);})})]},category);})]}),/*#__PURE__*/_jsx(\"div\",{className:\"InventoryGroup\",children:/*#__PURE__*/_jsx(\"button\",{className:\"dashboard-button\",onClick:Final_Call,style:{border:'2px solid black'},children:\"Review and Submit\"})}),firstState&&/*#__PURE__*/_jsx(PopUp,{isOpen:firstState,onClose:Refresh})]});}export default Update_Set_Prices;","map":{"version":3,"names":["React","Dropdown","DropdownButton","useState","inventory","categories","setItem_X","inv_P","Sidebars","PopUp","jsx","_jsx","jsxs","_jsxs","useItemStates","initialValue","_useState","_useState2","_slicedToArray","state","setState","initializeItemStates","itemStates","forEach","item","concat","name","toLowerCase","replace","NaN","Update_Set_Prices","_useState3","_useState4","firstState","setFirstState","_useState5","_useState6","selectedCategory","setSelectedCategory","Refresh","Object","entries","_ref","_ref2","key","itemName","Final_Call","_ref3","_ref4","handleChangeCategory","event","target","value","handleChangeItem","inputVal","varItemName","_itemStates$varItemNa","floats","float","test","parseFloat","className","style","width","height","position","overflowX","children","every","includes","onChange","map","category","charAt","toUpperCase","slice","Fragment","color","filter","src","img","alt","price","toFixed","type","e","onClick","border","isOpen","onClose"],"sources":["/Users/naheen/Desktop/CPSC481/481GasStation/src/Set_Prices.js"],"sourcesContent":["import React from 'react';\nimport Dropdown from 'react-bootstrap/Dropdown';\nimport DropdownButton from 'react-bootstrap/DropdownButton';\nimport './App_2.css';\nimport {useState} from 'react';\nimport { inventory, categories, setItem_X, inv_P } from './Variables';\nimport Sidebars from './Sidebars';\nimport PopUp from './PopUpSetPrices';\n\nfunction useItemStates(initialValue) {\n    const [state, setState] = useState(initialValue);\n  \n    return { state, setState };\n  }\n\nconst initializeItemStates = (inventory) => {\n    const itemStates = {};\n    inventory.forEach(item => {\n        itemStates[`price_${item.name.toLowerCase().replace(' ', '_')}`] = useItemStates(NaN);\n    });\n    return itemStates;\n    };\n\nfunction Update_Set_Prices() {\n\n    const [firstState, setFirstState] = useState(false);\n    const itemStates = initializeItemStates(inventory);\n    const [selectedCategory, setSelectedCategory] = useState(categories);\n    \n    const Refresh = () => {\n        setFirstState(false);\n        Object.entries(itemStates).forEach(([key, { setState }]) => {\n            const itemName = key.replace(/^price_/, '').replace(/_/g, ' ');\n            setState(NaN);\n            setItem_X(itemName, NaN);\n          });\n        setSelectedCategory(categories);\n        };\n\n    const Final_Call = () => {\n        setFirstState(true);\n        Object.entries(itemStates).forEach(([key, { state }]) => {\n            const itemName = key.replace(/^price_/, '').replace(/_/g, ' ');\n            setItem_X(itemName, state);\n          });\n        };\n\n    const handleChangeCategory = (event) => {\n      if (event.target.value == \"View All\") {\n        setSelectedCategory(categories);\n      }\n      else {\n        setSelectedCategory([event.target.value]);\n      }\n      };\n\n    const handleChangeItem = (itemName, inputVal) => {\n        const varItemName = `price_${itemName.replace(/ /g, '_')}`;\n        const { state, setState } = itemStates[varItemName];\n        const floats = inputVal.target.value;\n\n        const float = /^\\d+(\\.\\d{0,2})?$/.test(floats) ? parseFloat(floats) : (floats === \"\" ? NaN : state);\n        setState(float);\n        setItem_X(itemName, float);\n      };\n\n  return (\n    <div className=\"Inventory_Page\" style={{width:\"100%\", height:\"100%\", position:\"absolute\", overflowX:\"hidden\"}}>\n    <Sidebars />\n    <div className=\"corner\">Set Prices</div>\n    {/* <div className='search'><input type=\"text\" name=\"name\" /></div> */}\n    <div className=\"Inv_Div\">\n        <select className=\"invDropdown\" value={categories.every(item => selectedCategory.includes(item)) ? 'View All' : selectedCategory[0]} onChange={handleChangeCategory}>\n          <option value=\"View All\">All Categories</option>\n          {categories.map(category => (\n            <option key={category} value={category}>\n              {category.charAt(0).toUpperCase() + category.slice(1)}\n            </option>\n          ))}\n        </select>\n        <br></br>\n\t\t\t  {selectedCategory.map(category => (\n\t\t\t\t<React.Fragment key={category}>\n\t\t\t\t  <div className=\"invHeader\">\n\t\t\t\t\t<h1 style={{color:\"white\"}}>{category.charAt(0).toUpperCase() + category.slice(1)}</h1>\n\t\t\t\t  </div>\n\t\t\t\t  <div className=\"cards\" style={{width:\"100%\"}}>\n\t\t\t\t\t\t  {inventory.filter(item => item.category === category).map(item => (\n\t\t\t\t\t<div className=\"inv_card\" key={item.name}>\n\t\t\t\t\t  <img src={item.img} alt=\"Avatar\" style={{width: \"100%\"}}></img>\n\t\t\t\t\t  <div className=\"cardcontainer\">\n\t\t\t\t\t\t  <h4><b>{item.name.charAt(0).toUpperCase() + item.name.slice(1)}</b></h4>\n\t\t\t\t\t\t  <p>Price: ${item.price.toFixed(2)}</p>\n\t\t\t\t\t\t  <input className=\"invText\" type=\"number\" onChange={(e) => handleChangeItem(item.name, e)} value={itemStates[`price_${item.name.replace(' ', '_')}`].state} />\n\t\t\t\t\t  </div>\n\t\t\t\t\t</div>\n\t\t\t\t\t\t\t))}\n\t\t\t\t  </div>\n\t\t\t\t</React.Fragment>\n\t\t\t  ))}\n\t</div>\n\n\t<div className=\"InventoryGroup\">\n\t\t\t<button className='dashboard-button' onClick={Final_Call} style={{border:'2px solid black'}}>Review and Submit</button>\n\t</div>\n\t\n\t{firstState && (\n\t  <PopUp isOpen={firstState} onClose={Refresh}></PopUp>\n\t)} \n\n\t  </div>\n\n);\n}\n\n\nexport default Update_Set_Prices;"],"mappings":"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"},"metadata":{},"sourceType":"module","externalDependencies":[]}